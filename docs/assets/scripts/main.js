const activeClass="active";document.querySelectorAll('input[type="tel"]').forEach(e=>{IMask(e,{mask:"+{7} (000) 000-00-00"})}),document.querySelectorAll("[data-thousands-separator]").forEach(e=>{e.addEventListener("change",function(){IMask(e,{mask:Number,min:0,max:999999,thousandsSeparator:" ",normalizeZeros:!0})})});const tabIdList=document.querySelectorAll("[data-tab-id]");if(tabIdList){let e=new Set;for(const f of tabIdList)e.add(f.dataset.tabId);function tabSwith(e,t,s){for(const o of t.controlList)o.classList.remove(activeClass);for(const a of t.blockList)a.style.display="none";document.querySelector(`[data-tab-id="${s}"][data-tab-control="${e}"]`).classList.add(activeClass),document.querySelector(`[data-tab-id="${s}"][data-tab-block="${e}"]`).style.display=""}for(const l of e){const m={controlList:document.querySelectorAll(`[data-tab-id="${l}"][data-tab-control]`),blockList:document.querySelectorAll(`[data-tab-id="${l}"][data-tab-block]`)};tabSwith(m.controlList[0].dataset.tabControl,m,l);for(const n of m.controlList)n.addEventListener("click",()=>{tabSwith(n.dataset.tabControl,m,l)})}}const swiper=new Swiper(".swiper-oneslide",{loop:!0,speed:500,pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),cardsSwiper=new Swiper(".cards__slider .swiper-fourslide",{loop:!1,speed:500,slidesPerView:1,spaceBetween:20,breakpoints:{500:{slidesPerView:2},700:{slidesPerView:3},1024:{slidesPerView:4}},navigation:{nextEl:".cards__slider .swiper-button-next",prevEl:".cards__slider .swiper-button-prev"}}),swiperWithoutPag=new Swiper(".slider-withone .swiper-container",{loop:!0,speed:500,navigation:{nextEl:".slider-withone .swiper-button-next",prevEl:".slider-withone .swiper-button-prev"}}),thumbsSwiper=new Swiper(".swiper-thumbs",{speed:500,spaceBetween:20,slidesPerView:4}),sliderWithThumbs=new Swiper(".swiper-with-thumbs",{speed:500,watchSlidesProgress:!0,navigation:{nextEl:".swiper-with-thumbs .swiper-button-next",prevEl:".swiper-with-thumbs .swiper-button-prev"},thumbs:{swiper:thumbsSwiper}}),toggleFullMenu=document.querySelector("[data-catalog-toggle]"),fullMenu=document.querySelector("[data-full-menu"),closeBtn=document.querySelector("[data-close]"),searchBtn=document.querySelector(".search-form__btn"),burgerBtn=document.querySelector("[data-burger]"),moreBtn=document.querySelector("[data-more-text]"),overlayForClose=document.querySelector(".overlay"),body=document.body;function openedWindow(e){e.classList.contains("active")&&(overlayForClose.classList.add("active"),body.classList.add("scroll-hidden"))}function closeWindow(t){const e=t.querySelectorAll("[data-close]"),s=t.querySelector("[data-cancel-btn]");e.forEach(e=>{e.addEventListener("click",function(){t.classList.remove("active"),overlayForClose.classList.remove("active"),body.classList.remove("scroll-hidden")})}),overlayForClose.addEventListener("click",function(e){t.classList.remove("active"),overlayForClose.classList.remove("active"),body.classList.remove("scroll-hidden")}),s&&s.addEventListener("click",function(){t.classList.remove("active"),overlayForClose.classList.remove("active"),body.classList.remove("scroll-hidden")})}function popup(){const e=document.querySelectorAll("[data-popup]"),t=document.querySelectorAll("[data-modal-trigger]");e.forEach(s=>{openedWindow(s),closeWindow(s),t.forEach(t=>{t.addEventListener("click",function(e){e.preventDefault();e=t.getAttribute("data-modal-trigger");s.classList.remove("active"),e===s.id&&(s.classList.add("active"),openedWindow(s)),s.classList.contains("active")&&closeWindow(s)})})})}if(window.onclick=e=>{if(e.target==toggleFullMenu&&(fullMenu.classList.add("show"),body.classList.add("scroll-hidden")),e.target==closeBtn&&(fullMenu.classList.remove("show"),body.classList.remove("scroll-hidden")),e.target==searchBtn?searchBtn.nextElementSibling.classList.add("show"):e.target!==searchBtn.nextElementSibling.childNodes[1]&&searchBtn.nextElementSibling.classList.remove("show"),e.target==burgerBtn){const t=document.querySelector(".header");t.classList.toggle("active"),t.classList.contains("active")?body.classList.add("scroll-hidden"):body.classList.remove("scroll-hidden")}e.target==moreBtn&&(moreBtn.previousElementSibling.classList.toggle("isOpen"),moreBtn.previousElementSibling.classList.contains("isOpen")?moreBtn.innerHTML="Свернуть":moreBtn.innerHTML="Развернуть")},popup(),document.querySelectorAll(".accordion").length){const C=document.querySelectorAll(".accordion");C.forEach(e=>{new Accordion(e)})}const fileFields=document.querySelectorAll("[data-file-field]");fileFields.forEach(e=>{const t=e.querySelector("label span"),s=e.querySelector('input[type="file"]');s.addEventListener("change",()=>{t.innerHTML=s.files[0].name})});const showBlockBtns=document.querySelectorAll("[data-change-data]");showBlockBtns.forEach(t=>{const s=document.querySelector(`[data-change-block="${t.dataset.changeData}"]`);let e=s.closest(".account__block"),o=e.querySelectorAll("input"),a=s.querySelector("[data-change-cancel]");s.classList.remove("active"),e.onclick=e=>{e.target!==t&&e.target!==a||(s.classList.toggle("active"),o.forEach(e=>{s.classList.contains("active")?(e.removeAttribute("disabled"),e.parentElement.classList.remove("disabled")):(e.setAttribute("disabled","disabled"),e.parentElement.classList.add("disabled"))}))}});const cardInfoBlock=document.querySelector(".catalog-item__info");if(cardInfoBlock){const O=cardInfoBlock.querySelectorAll("[data-price-btn]"),P=cardInfoBlock.querySelectorAll("[data-price-block]");O.forEach(t=>{P.forEach(e=>{t.addEventListener("change",function(){t.dataset.priceBtn===e.dataset.priceBlock?e.classList.add("active"):e.classList.remove("active")})})});const Q=cardInfoBlock.querySelectorAll("[data-color-btn]"),R=cardInfoBlock.querySelectorAll("[data-color]");Q.forEach(t=>{t.addEventListener("change",function(){R.forEach(e=>{t.dataset.colorBtn===e.dataset.color?e.classList.add(activeClass):e.classList.remove(activeClass)});const e=document.querySelector(".possible_options");if(e){const o=e.querySelectorAll(`[data-color-xmlid=${t.dataset.colorBtn}] > img`);if(o.length){let t="",s="";o.forEach(e=>{t+=`
						<div class="swiper-slide">
							<div class="catalog-item__slide">
								<img src="${e.src}" alt="">
								<button class="catalog-item__zoom-btn zoom-btn spotlight" data-src="${e.src}">
									<svg width="30" height="30">
										<use xlink:href="assets/images/sprite.svg#bi_zoom-in"></use>
									</svg>
								</button>
							</div>
						</div>`,s+=`
						<div class="swiper-slide">
							<img src="${e.src}" alt="" class="catalog-item__thumb-img">
						</div>
					`}),document.querySelector(".catalog-item__slider .swiper-with-thumbs .swiper-wrapper").innerHTML=t,document.querySelector(".catalog-item__slider .swiper-thumbs .swiper-wrapper").innerHTML=s,thumbsSwiper.update(),sliderWithThumbs.update()}}})})}const header=document.querySelector(".header");sticky=header.offsetTop,window.onscroll=()=>{window.pageYOffset>sticky?header.classList.add("sticky"):header.classList.remove("sticky")},$(".js-range-slider").ionRangeSlider({skin:"round",onFinish:e=>{var t=e.input[0].name;const s=$(`input.full-filter__hidden-input[name="${t}_MIN"]`),o=$(`input.full-filter__hidden-input[name="${t}_MAX"]`);console.log({inputMin:s,inputMax:o,asd:e.from,asdfg:e.to}),s&&(s.attr("value",e.from),s.trigger("keyup")),o&&(o.attr("value",e.to),o.trigger("keyup"))}});